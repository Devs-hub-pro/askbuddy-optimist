
<view class="profile-container">
  <!-- Top User Info -->
  <view class="user-header-section">
    <view class="user-header-bg"></view>
    <view class="user-info-container">
      <view class="user-avatar-section">
        <view class="avatar-container" bindtap="goToEditProfile">
          <image class="avatar" src="{{userInfo.avatar || '/assets/images/default-avatar.png'}}" mode="aspectFill"></image>
          <view class="edit-badge">
            <view class="edit-icon"></view>
          </view>
        </view>
        
        <view class="user-name-container">
          <view class="user-name-row">
            <text class="user-name">{{userInfo.nickname || '未设置昵称'}}</text>
            <view class="verified-badge" wx:if="{{userInfo.verified}}">
              <view class="verified-icon"></view>
            </view>
          </view>
          
          <view class="user-tags">
            <view class="user-tag" wx:for="{{userInfo.tags}}" wx:key="index">{{item}}</view>
          </view>
          
          <text class="user-bio">{{userInfo.bio || '点击头像编辑个人资料'}}</text>
        </view>
      </view>
      
      <view class="user-stats">
        <view class="stat-item" bindtap="goToFollowing">
          <text class="stat-value">{{userInfo.followingCount || 0}}</text>
          <text class="stat-label">关注</text>
        </view>
        
        <view class="stat-item" bindtap="goToFollowers">
          <text class="stat-value">{{userInfo.followerCount || 0}}</text>
          <text class="stat-label">粉丝</text>
        </view>
        
        <view class="stat-item" bindtap="goToExperienceDetails">
          <view class="exp-progress">
            <view class="exp-progress-bar" style="width: {{(userInfo.experience % 100) || 0}}%;"></view>
          </view>
          <text class="stat-label">Lv.{{Math.floor(userInfo.experience / 100) + 1 || 1}}</text>
        </view>
        
        <view class="stat-item" bindtap="goToWallet">
          <text class="stat-value">{{userInfo.showBalance ? userInfo.balance + '元' : '***'}}</text>
          <text class="stat-label">余额</text>
        </view>
      </view>
    </view>
  </view>
  
  <!-- Main Functions -->
  <view class="function-sections">
    <!-- My Content Section -->
    <view class="function-section">
      <view class="section-title">我的内容</view>
      
      <view class="function-grid">
        <view class="function-item" bindtap="goToMyQuestions">
          <view class="function-icon question-icon"></view>
          <text class="function-name">我的提问</text>
        </view>
        
        <view class="function-item" bindtap="goToMyAnswers">
          <view class="function-icon answer-icon"></view>
          <text class="function-name">我的回答</text>
        </view>
        
        <view class="function-item" bindtap="goToMyDrafts">
          <view class="function-icon draft-icon"></view>
          <text class="function-name">草稿箱</text>
          <view class="badge" wx:if="{{draftCount > 0}}">{{draftCount}}</view>
        </view>
        
        <view class="function-item" bindtap="goToFavorites">
          <view class="function-icon favorite-icon"></view>
          <text class="function-name">收藏</text>
        </view>
      </view>
    </view>
    
    <!-- Orders Section -->
    <view class="function-section">
      <view class="section-title">我的订单</view>
      
      <view class="function-grid">
        <view class="function-item" bindtap="goToAllOrders">
          <view class="function-icon order-icon"></view>
          <text class="function-name">全部订单</text>
        </view>
        
        <view class="function-item" bindtap="goToPendingOrders">
          <view class="function-icon pending-icon"></view>
          <text class="function-name">待付款</text>
          <view class="badge" wx:if="{{pendingOrderCount > 0}}">{{pendingOrderCount}}</view>
        </view>
        
        <view class="function-item" bindtap="goToActiveOrders">
          <view class="function-icon active-icon"></view>
          <text class="function-name">进行中</text>
          <view class="badge" wx:if="{{activeOrderCount > 0}}">{{activeOrderCount}}</view>
        </view>
        
        <view class="function-item" bindtap="goToCompletedOrders">
          <view class="function-icon completed-icon"></view>
          <text class="function-name">已完成</text>
        </view>
      </view>
    </view>
    
    <!-- Tools Section -->
    <view class="function-section">
      <view class="section-title">工具与服务</view>
      
      <view class="function-list">
        <view class="list-item" bindtap="goToWallet">
          <view class="item-icon wallet-icon"></view>
          <text class="item-name">我的钱包</text>
          <view class="item-arrow"></view>
        </view>
        
        <view class="list-item" bindtap="goToExpertApplication">
          <view class="item-icon expert-icon"></view>
          <text class="item-name">成为达人</text>
          <text class="item-tag" wx:if="{{userInfo.expertStatus === 'pending'}}">审核中</text>
          <text class="item-tag success" wx:elif="{{userInfo.expertStatus === 'approved'}}">已认证</text>
          <view class="item-arrow"></view>
        </view>
        
        <view class="list-item" bindtap="goToSettings">
          <view class="item-icon settings-icon"></view>
          <text class="item-name">设置</text>
          <view class="item-arrow"></view>
        </view>
        
        <view class="list-item" bindtap="goToHelp">
          <view class="item-icon help-icon"></view>
          <text class="item-name">帮助与反馈</text>
          <view class="item-arrow"></view>
        </view>
      </view>
    </view>
  </view>
</view>

